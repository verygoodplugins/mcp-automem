{
  "PostToolUse": [
    {
      "matcher": "Bash(git commit*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=git_commit bash \"{{PLUGIN_DIR}}/hooks/session-memory.sh\""
        }
      ]
    },
    {
      "matcher": "Bash(*build*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=build bash \"{{PLUGIN_DIR}}/hooks/capture-build-result.sh\""
        }
      ]
    },
    {
      "matcher": "Edit(*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=code_edit bash \"{{PLUGIN_DIR}}/hooks/capture-code-pattern.sh\""
        }
      ]
    },
    {
      "matcher": "MultiEdit(*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=code_edit bash \"{{PLUGIN_DIR}}/hooks/capture-code-pattern.sh\""
        }
      ]
    },
    {
      "matcher": "Bash(*test*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=test_run bash \"{{PLUGIN_DIR}}/hooks/capture-test-pattern.sh\""
        }
      ]
    },
    {
      "matcher": "Bash(*deploy*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=deploy bash \"{{PLUGIN_DIR}}/hooks/capture-deployment.sh\""
        }
      ]
    },
    {
      "matcher": "WebSearch(*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=search bash \"{{PLUGIN_DIR}}/hooks/capture-search-result.sh\""
        }
      ]
    },
    {
      "matcher": "Bash(*error*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=error bash \"{{PLUGIN_DIR}}/hooks/capture-error-resolution.sh\""
        }
      ]
    }
  ],
  "Stop": [
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "command",
          "command": "bash \"{{PLUGIN_DIR}}/scripts/smart-notify.sh\""
        },
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=session_end bash \"{{PLUGIN_DIR}}/hooks/session-memory.sh\""
        },
        {
          "type": "command",
          "command": "bash \"{{PLUGIN_DIR}}/scripts/queue-cleanup.sh\""
        },
        {
          "type": "command",
          "command": "npx @verygoodplugins/mcp-automem queue --file \"$HOME/.claude/scripts/memory-queue.jsonl\""
        }
      ]
    }
  ]
}
