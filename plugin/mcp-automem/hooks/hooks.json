{
  "PostToolUse": [
    {
      "matcher": "Bash(git commit*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=git_commit bash \"{{PLUGIN_DIR}}/hooks/session-memory.sh\""
        }
      ]
    },
    {
      "matcher": "Bash(*build*)",
      "hooks": [
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=build bash \"{{PLUGIN_DIR}}/hooks/capture-build-result.sh\""
        }
      ]
    }
  ],
  "Stop": [
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "command",
          "command": "bash \"{{PLUGIN_DIR}}/scripts/smart-notify.sh\""
        },
        {
          "type": "command",
          "command": "CLAUDE_HOOK_TYPE=session_end bash \"{{PLUGIN_DIR}}/hooks/session-memory.sh\""
        },
        {
          "type": "command",
          "command": "bash \"{{PLUGIN_DIR}}/scripts/queue-cleanup.sh\""
        },
        {
          "type": "command",
          "command": "npx @verygoodplugins/mcp-automem queue --file \"$HOME/.claude/scripts/memory-queue.jsonl\""
        }
      ]
    }
  ]
}
